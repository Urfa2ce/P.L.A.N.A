<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>블루 아카이브 상점 계산기</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app-wrapper">

    <aside class="sidebar">
        <div class="banner-area" onclick="toggleEventListUI()" style="position: relative;">
            <img src="" alt="Event Banner" onerror="this.style.display='none'">
            
            <span id="mainBannerBadge" class="status-badge-overlay" style="display:none;"></span>
            <div class="banner-placeholder">EVENT LIST</div>
        </div>
        
        <div id="eventListContainer" class="event-list-box hidden">
        </div>
    </aside>

    <div class="container">
        <h1>이벤트 상점 계산기</h1>

        <div class="bonus-widget-container">
            <div class="bonus-toggle-header" onclick="toggleStudentSelector()">
                <div class="b-title">
                    <span>보너스 학생 목록</span>
                </div>
                <span id="studentToggleIcon">▼</span>
            </div>
     
            <div id="studentSelectorBox" class="student-selector-body hidden">
                <div class="bonus-dashboard">
                    <div id="bd-item-0" class="bd-item" onclick="toggleBonusFilter(0)">
                        <div class="bd-icon-box">
                            <img id="bd-icon-0" src="" class="bd-icon" onerror="this.style.display='none'">
                        </div>
                        <span id="bd-val-0" class="bd-val">0%</span>
                        <input type="number" id="bd-manual-0" class="bd-manual-input" placeholder="수기입" 
                               onclick="event.stopPropagation()" oninput="calculate()">
                    </div>
                    
                    <div class="bd-line"></div>
                    
                    <div id="bd-item-1" class="bd-item" onclick="toggleBonusFilter(1)">
                        <div class="bd-icon-box">
                            <img id="bd-icon-1" src="" class="bd-icon" onerror="this.style.display='none'">
                        </div>
                        <span id="bd-val-1" class="bd-val">0%</span>
                        <input type="number" id="bd-manual-1" class="bd-manual-input" placeholder="수기입" 
                               onclick="event.stopPropagation()" oninput="calculate()">
                    </div>
                    
                    <div class="bd-line"></div>
                    
                    <div id="bd-item-2" class="bd-item" onclick="toggleBonusFilter(2)">
                        <div class="bd-icon-box">
                            <img id="bd-icon-2" src="" class="bd-icon" onerror="this.style.display='none'">
                        </div>
                        <span id="bd-val-2" class="bd-val">0%</span>
                        <input type="number" id="bd-manual-2" class="bd-manual-input" placeholder="수기입" 
                               onclick="event.stopPropagation()" oninput="calculate()">
                    </div>

                    <div class="bd-line"></div>

                    <div id="bd-item-3" class="bd-item" onclick="toggleBonusFilter(3)">
                        <div class="bd-icon-box">
                            <img id="bd-icon-3" src="" class="bd-icon" onerror="this.style.display='none'">
                        </div>
                        <span id="bd-val-3" class="bd-val">0%</span>
                        <input type="number" id="bd-manual-3" class="bd-manual-input" placeholder="수기입" 
                               onclick="event.stopPropagation()" oninput="calculate()">
                    </div>
                </div>

                <div class="student-tabs">
                    <div class="s-tab striker active" onclick="toggleRoleFilter('STRIKER', this)">STRIKER</div>
                    <div class="s-tab special active" onclick="toggleRoleFilter('SPECIAL', this)">SPECIAL</div>
                </div>
                <div id="student-grid" class="student-grid"></div>
            </div>
        </div>

        <div class="shop-tabs">
            <div class="tab-btn active" onclick="switchTab(0)">
                <img src="" class="tab-icon" alt="A" onerror="this.style.display='none'"> 상점 1
            </div>
            <div class="tab-btn" onclick="switchTab(1)">
                <img src="" class="tab-icon" alt="B" onerror="this.style.display='none'"> 상점 2
            </div>
            <div class="tab-btn" onclick="switchTab(2)">
                <img src="" class="tab-icon" alt="C" onerror="this.style.display='none'"> 상점 3
            </div>
        </div>

        <div id="shop-container"></div>

        <div class="calc-area">
            <div class="row inputs-row">
                <div class="col">
                    <label>필요 재화</label>
                    <input type="number" id="targetAmount" class="main-input" placeholder="0" oninput="manualTarget(this.value)">
                </div>
                <div class="col">
                    <label>현재 보유</label>
                    <input type="number" id="currentAmount" class="main-input" placeholder="0" oninput="updateCurrent(this.value)">
                </div>
                </div>

            <div class="row result-row">
    <div class="col" style="flex: 1;"> <label>추천 스테이지 및 결과</label>
        <div class="recommend-box unified-box">
            
            <div class="rec-header-row">
                <div id="recStageName" class="rec-name">계산 대기 중...</div>
            </div>

            <div id="result-surplus" class="rec-surplus-line"></div>

            <div id="recStageInfo" class="rec-info-list">-</div>
        </div>
    </div>
    </div>
        </div>

        <div class="drop-info-area">
            <div class="filter-section">
                <div class="filter-header">
                    <h3>🔍 계산할 지역 선택</h3>
                    <div class="filter-btns">
                        <button class="small-btn" onclick="toggleAllStages(true)">전체 선택</button>
                        <button class="small-btn outline" onclick="toggleAllStages(false)">전체 해제</button>
                    </div>
                </div>
                <div id="stage-filter-container" class="filter-grid"></div>
            </div>

            <h2>스테이지 드랍 테이블</h2>
            <div class="drop-table-header">
                <span>지역명 (AP)</span>
                <span>드랍 아이템 (기본 + 보너스)</span>
            </div>
            <div id="drop-table-list"></div>
        </div>

        <div class="version-info">
            이벤트 상점 계산기 0.1.3b | Last updated 2025.12.04 01:11 KST
        </div>

    </div> </div> <script type="module" src="/js/main.js"></script>

</body>
</html>